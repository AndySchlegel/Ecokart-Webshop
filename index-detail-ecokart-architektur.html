<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoKart AWS Architektur - 3 Varianten</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Amazon Ember', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #7FB069;
        }

        .header p {
            font-size: 1.1em;
            color: #aaa;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #7FB069;
            border-radius: 8px;
            color: #fff;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #7FB069;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(127, 176, 105, 0.4);
        }

        .nav-btn.active {
            background: #7FB069;
            box-shadow: 0 5px 15px rgba(127, 176, 105, 0.4);
        }

        .variants-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .variant-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
        }

        .variant-card:hover {
            border-color: #7FB069;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .variant-card.recommended {
            border: 3px solid #7FB069;
            box-shadow: 0 0 30px rgba(127, 176, 105, 0.3);
        }

        .variant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }

        .variant-title {
            font-size: 1.5em;
            color: #7FB069;
        }

        .variant-cost {
            font-size: 1.3em;
            color: #FF6B6B;
        }

        .variant-subtitle {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 15px;
        }

        .architecture-diagram {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            min-height: 350px;
        }

        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .flow-row {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap;
        }

        .component {
            background: linear-gradient(135deg, #232F3E 0%, #FF9900 100%);
            padding: 15px;
            border-radius: 10px;
            min-width: 130px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            border: 2px solid transparent;
        }

        .component:hover {
            transform: scale(1.05);
            border-color: #FF9900;
            box-shadow: 0 5px 20px rgba(255, 153, 0, 0.5);
            z-index: 100;
        }

        .component-icon {
            font-size: 1.8em;
            margin-bottom: 8px;
        }

        .component-name {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.95em;
        }

        .component-type {
            font-size: 0.8em;
            color: #ccc;
        }

        .arrow {
            font-size: 1.8em;
            color: #7FB069;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid #FF9900;
            border-radius: 8px;
            padding: 15px;
            min-width: 280px;
            z-index: 1000;
            display: none;
            top: 110%;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .component:hover .tooltip {
            display: block;
            z-index: 1001;
        }

        .tooltip h4 {
            color: #FF9900;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .tooltip ul {
            list-style: none;
            line-height: 1.6;
            font-size: 0.9em;
        }

        .tooltip li::before {
            content: "▸ ";
            color: #7FB069;
            font-weight: bold;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .pros, .cons {
            padding: 12px;
            border-radius: 8px;
        }

        .pros {
            background: rgba(127, 176, 105, 0.1);
            border-left: 4px solid #7FB069;
        }

        .cons {
            background: rgba(255, 107, 107, 0.1);
            border-left: 4px solid #FF6B6B;
        }

        .pros h4, .cons h4 {
            margin-bottom: 8px;
            font-size: 1em;
        }

        .pros h4 {
            color: #7FB069;
        }

        .cons h4 {
            color: #FF6B6B;
        }

        ul {
            list-style: none;
            line-height: 1.5;
            font-size: 0.9em;
        }

        .pros li::before {
            content: "✓ ";
            color: #7FB069;
            font-weight: bold;
        }

        .cons li::before {
            content: "✗ ";
            color: #FF6B6B;
            font-weight: bold;
        }

        .recommendation {
            background: rgba(127, 176, 105, 0.2);
            border: 2px solid #7FB069;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
        }

        .recommendation-badge {
            display: inline-block;
            background: #7FB069;
            color: #1a1a2e;
            padding: 6px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .detail-view {
            display: none;
        }

        .detail-view.active {
            display: block;
        }

        .comparison-table {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
        }

        .comparison-table h2 {
            color: #7FB069;
            margin-bottom: 20px;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border: 1px solid rgba(255,255,255,0.1);
        }

        th {
            background: rgba(127, 176, 105, 0.2);
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: rgba(255,255,255,0.02);
        }

        td:nth-child(2), td:nth-child(3), td:nth-child(4) {
            text-align: center;
        }

        .check-green {
            color: #7FB069;
            font-weight: bold;
        }

        .check-red {
            color: #FF6B6B;
        }

        @media (max-width: 1200px) {
            .variants-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .component {
                min-width: 110px;
                padding: 12px;
            }

            .pros-cons {
                grid-template-columns: 1fr;
            }
        }

        /* Architecture Detail Styles */
        .az-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
        }

        .availability-zone {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            background: rgba(255, 255, 255, 0.02);
        }

        .az-label {
            position: absolute;
            top: -10px;
            left: 20px;
            background: #1a2332;
            padding: 3px 12px;
            font-size: 0.85em;
            color: #999;
            border-radius: 5px;
        }

        .subnet-row {
            display: flex;
            gap: 20px;
            margin: 15px 0;
        }

        .subnet {
            flex: 1;
            border: 2px solid #4B9CD3;
            border-radius: 12px;
            padding: 15px;
            position: relative;
            min-height: 160px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-content: flex-start;
        }

        .subnet.public {
            background: rgba(75, 156, 211, 0.1);
        }

        .subnet.private {
            background: rgba(255, 153, 0, 0.08);
            border-color: #FF9900;
        }

        .subnet.data {
            background: rgba(100, 149, 237, 0.08);
            border-color: #6495ED;
        }

        .subnet-label {
            position: absolute;
            top: -12px;
            left: 15px;
            background: #1a2332;
            padding: 4px 12px;
            font-size: 0.85em;
            border-radius: 10px;
            font-weight: 500;
            z-index: 2;
        }

        .subnet.public .subnet-label {
            color: #4B9CD3;
            border: 1px solid #4B9CD3;
        }

        .subnet.private .subnet-label {
            color: #FF9900;
            border: 1px solid #FF9900;
        }

        .subnet.data .subnet-label {
            color: #6495ED;
            border: 1px solid #6495ED;
        }

        .vpc-label {
            position: absolute;
            top: -15px;
            left: 30px;
            background: #7B3FF2;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            z-index: 2;
        }

        .region-label {
            position: absolute;
            top: 10px;
            right: 20px;
            background: #FF9900;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 2;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .metric-value {
            color: #FF9900;
            font-weight: bold;
        }

        .cost-total {
            border-top: 2px solid #7FB069;
            margin-top: 10px;
            padding-top: 10px;
            font-weight: bold;
        }

        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid #FF9900;
            border-radius: 10px;
            padding: 15px;
            min-width: 320px;
            max-width: 400px;
            z-index: 1000;
            display: none;
            top: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
        }

        .component:hover .tooltip,
        .external-service:hover .tooltip,
        .iam-role:hover .tooltip {
            display: block;
        }

        .tooltip h4 {
            color: #FF9900;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .tooltip ul {
            list-style: none;
            line-height: 1.6;
            font-size: 0.9em;
        }

        .tooltip li {
            padding: 3px 0;
            display: flex;
            align-items: flex-start;
        }

        .tooltip li::before {
            content: "▸";
            color: #7FB069;
            margin-right: 8px;
            flex-shrink: 0;
        }

        /* Component Styles for Architecture */
        .component-icon {
            font-size: 1.6em;
            margin-bottom: 5px;
        }

        .component-name {
            font-weight: bold;
            font-size: 0.9em;
            margin-bottom: 3px;
        }

        .component-details {
            font-size: 0.75em;
            color: #aaa;
        }

        .component {
            background: linear-gradient(135deg, #232F3E 0%, #37475A 100%);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 12px;
            margin-top: 25px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            min-width: 140px;
            height: fit-content;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .component:hover {
            transform: translateY(-3px) scale(1.05);
            border-color: #FF9900;
            box-shadow: 0 8px 25px rgba(255, 153, 0, 0.3);
            z-index: 50;
        }

        /* VPC Container Styles */
        .vpc-container {
            border: 3px solid #7B3FF2;
            border-radius: 15px;
            padding: 25px;
            position: relative;
            background: rgba(123, 63, 242, 0.05);
            min-height: 700px;
        }

        /* Info Cards Styles */
        .info-cards {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .info-card {
            flex: 1;
            min-width: 280px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-card h3 {
            color: #7FB069;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        /* Responsive Design for Architecture */
        @media (max-width: 1400px) {
            .side-panel {
                position: static;
                width: 100%;
                margin-top: 20px;
                display: flex;
                gap: 20px;
            }

            .iam-roles, .security-groups {
                flex: 1;
            }
        }

        @media (max-width: 768px) {
            .subnet-row {
                flex-direction: column;
            }

            .external-services {
                flex-direction: column;
                padding: 0 20px;
            }

            .info-cards {
                flex-direction: column;
            }
        }
        /* Detail view styles adapted from ecokart-architecture-detail Kopie.html */
        #detail-view .container{
          max-width: 1920px;
          margin: 0 auto;
        }

        #detail-view .header{
          text-align: center;
          margin-bottom: 20px;
          padding: 20px;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 15px;
          backdrop-filter: blur(10px);
        }

        #detail-view .header h1{
          font-size: 1.8em;
          margin-bottom: 8px;
          color: #7fb069;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
        }

        #detail-view .header p{
          font-size: 1em;
          color: #aaa;
        }

        #detail-view .architecture-wrapper{
          position: relative;
          width: 100%;
          min-height: 850px;
          background: rgba(255, 255, 255, 0.03);
          border-radius: 20px;
          padding: 20px;
        }

        /* External Services at Top */
        #detail-view .external-services{
          display: flex;
          justify-content: space-around;
          gap: 20px;
          margin-bottom: 30px;
          padding: 0 50px;
        }

        #detail-view .external-service{
          flex: 1;
          max-width: 300px;
          background: linear-gradient(135deg, #16213e 0%, #0f3460 100%);
          border: 2px solid #e94560;
          border-radius: 12px;
          padding: 15px 20px;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          cursor: pointer;
          transition: all 0.3s;
          position: relative;
        }

        #detail-view .external-service:hover{
          transform: translateY(-3px) scale(1.05);
          box-shadow: 0 8px 25px rgba(233, 69, 96, 0.4);
          z-index: 100;
        }

        #detail-view .external-service .icon{
          font-size: 1.5em;
        }

        #detail-view .external-service .name{
          font-weight: bold;
          font-size: 1em;
        }

        /* VPC Container */
        #detail-view .vpc-container{
          border: 3px solid #7b3ff2;
          border-radius: 15px;
          padding: 25px;
          position: relative;
          background: rgba(123, 63, 242, 0.05);
          min-height: 700px;
        }

        #detail-view .vpc-label{
          position: absolute;
          top: -15px;
          left: 30px;
          background: #7b3ff2;
          padding: 5px 15px;
          border-radius: 20px;
          font-weight: bold;
          font-size: 0.9em;
          z-index: 2;
        }

        #detail-view .region-label{
          position: absolute;
          top: 10px;
          right: 20px;
          background: #ff9900;
          padding: 8px 20px;
          border-radius: 20px;
          font-weight: bold;
          display: flex;
          align-items: center;
          gap: 8px;
          z-index: 2;
        }

        /* Availability Zones */
        #detail-view .az-container{
          display: flex;
          flex-direction: column;
          gap: 20px;
          margin-top: 40px;
        }

        #detail-view .availability-zone{
          border: 2px dashed rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          padding: 20px;
          position: relative;
          background: rgba(255, 255, 255, 0.02);
        }

        #detail-view .az-label{
          position: absolute;
          top: -10px;
          left: 20px;
          background: #1a2332;
          padding: 3px 12px;
          font-size: 0.85em;
          color: #999;
          border-radius: 5px;
        }

        /* Subnets */
        #detail-view .subnet-row{
          display: flex;
          gap: 20px;
          margin: 15px 0;
        }

        #detail-view .subnet{
          flex: 1;
          border: 2px solid #4b9cd3;
          border-radius: 12px;
          padding: 15px;
          position: relative;
          min-height: 160px;
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
          align-content: flex-start;
        }

        #detail-view .subnet.public{
          background: rgba(75, 156, 211, 0.1);
        }

        #detail-view .subnet.private{
          background: rgba(255, 153, 0, 0.08);
          border-color: #ff9900;
        }

        #detail-view .subnet.data{
          background: rgba(100, 149, 237, 0.08);
          border-color: #6495ed;
        }

        #detail-view .subnet-label{
          position: absolute;
          top: -12px;
          left: 15px;
          background: #1a2332;
          padding: 4px 12px;
          font-size: 0.85em;
          border-radius: 10px;
          font-weight: 500;
          z-index: 2;
        }

        #detail-view .subnet.public .subnet-label{
          color: #4b9cd3;
          border: 1px solid #4b9cd3;
        }

        #detail-view .subnet.private .subnet-label{
          color: #ff9900;
          border: 1px solid #ff9900;
        }

        #detail-view .subnet.data .subnet-label{
          color: #6495ed;
          border: 1px solid #6495ed;
        }

        /* Components */
        #detail-view .component{
          background: linear-gradient(135deg, #232f3e 0%, #37475a 100%);
          border: 2px solid transparent;
          border-radius: 10px;
          padding: 12px;
          margin-top: 25px;
          cursor: pointer;
          transition: all 0.3s;
          position: relative;
          min-width: 140px;
          height: fit-content;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          text-align: center;
        }

        #detail-view .component:hover{
          transform: translateY(-3px) scale(1.05);
          border-color: #ff9900;
          box-shadow: 0 8px 25px rgba(255, 153, 0, 0.3);
          z-index: 50;
        }

        #detail-view .component-icon{
          font-size: 1.6em;
          margin-bottom: 5px;
        }

        #detail-view .component-name{
          font-weight: bold;
          font-size: 0.9em;
          margin-bottom: 3px;
        }

        #detail-view .component-details{
          font-size: 0.75em;
          color: #aaa;
        }

        /* Tooltips */
        #detail-view .tooltip{
          position: absolute;
          background: rgba(0, 0, 0, 0.95);
          border: 2px solid #ff9900;
          border-radius: 10px;
          padding: 15px;
          min-width: 320px;
          max-width: 400px;
          z-index: 1000;
          display: none;
          top: calc(100% + 10px);
          left: 50%;
          transform: translateX(-50%);
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
        }

        #detail-view .component:hover .tooltip,
        #detail-view .external-service:hover .tooltip,
        #detail-view .iam-role:hover .tooltip{
          display: block;
        }

        /* Position tooltips that would go off-screen */
        #detail-view .external-service .tooltip{
          top: calc(100% + 5px);
        }

        #detail-view .tooltip h4{
          color: #ff9900;
          margin-bottom: 10px;
          font-size: 1em;
        }

        #detail-view .tooltip ul{
          list-style: none;
          line-height: 1.6;
          font-size: 0.9em;
        }

        #detail-view .tooltip li{
          padding: 3px 0;
          display: flex;
          align-items: flex-start;
        }

        #detail-view .tooltip li::before{
          content: "▸";
          color: #7fb069;
          margin-right: 8px;
          flex-shrink: 0;
        }

        /* IAM Roles Panel */
        #detail-view .side-panel{
          position: absolute;
          right: -240px;
          top: 80px;
          width: 220px;
        }

        #detail-view .iam-roles{
          background: rgba(255, 255, 255, 0.05);
          border: 2px solid #ff9900;
          border-radius: 10px;
          padding: 15px;
          margin-bottom: 20px;
        }

        #detail-view .iam-roles h3{
          color: #ff9900;
          font-size: 1em;
          margin-bottom: 10px;
          text-align: center;
        }

        #detail-view .iam-role{
          background: rgba(255, 153, 0, 0.1);
          border: 1px solid rgba(255, 153, 0, 0.3);
          border-radius: 5px;
          padding: 8px;
          margin: 8px 0;
          font-size: 0.85em;
          cursor: pointer;
          transition: all 0.3s;
          position: relative;
        }

        #detail-view .iam-role:hover{
          background: rgba(255, 153, 0, 0.2);
          transform: translateX(-5px);
          z-index: 100;
        }

        /* Security Groups Panel */
        #detail-view .security-groups{
          background: rgba(255, 255, 255, 0.05);
          border: 2px solid #7fb069;
          border-radius: 10px;
          padding: 15px;
        }

        #detail-view .security-groups h3{
          color: #7fb069;
          font-size: 1em;
          margin-bottom: 10px;
          text-align: center;
        }

        #detail-view .sg-item{
          background: rgba(127, 176, 105, 0.1);
          border: 1px solid rgba(127, 176, 105, 0.3);
          border-radius: 5px;
          padding: 8px;
          margin: 8px 0;
          font-size: 0.8em;
        }

        #detail-view .sg-item strong{
          color: #7fb069;
          display: block;
          margin-bottom: 3px;
        }

        #detail-view .sg-item span{
          color: #aaa;
          font-size: 0.9em;
        }

        /* Info Cards at Bottom */
        #detail-view .info-cards{
          display: flex;
          gap: 20px;
          margin-top: 30px;
          flex-wrap: wrap;
        }

        #detail-view .info-card{
          flex: 1;
          min-width: 280px;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 10px;
          padding: 20px;
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        #detail-view .info-card h3{
          color: #7fb069;
          margin-bottom: 12px;
          font-size: 1.1em;
        }

        #detail-view .metric{
          display: flex;
          justify-content: space-between;
          padding: 6px 0;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #detail-view .metric-value{
          color: #ff9900;
          font-weight: bold;
        }

        #detail-view .cost-total{
          border-top: 2px solid #7fb069;
          margin-top: 10px;
          padding-top: 10px;
          font-weight: bold;
        }

        /* Flow Arrows */
        #detail-view .flow-arrow{
          position: absolute;
          color: #7fb069;
          font-size: 1.5em;
          opacity: 0.6;
          pointer-events: none;
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
          #detail-view .side-panel{
            position: static;
            width: 100%;
            margin-top: 20px;
            display: flex;
            gap: 20px;
          }

          #detail-view .iam-roles,
          #detail-view .security-groups{
            flex: 1;
          }
        }

        @media (max-width: 768px) {
          #detail-view .subnet-row{
            flex-direction: column;
          }

          #detail-view .external-services{
            flex-direction: column;
            padding: 0 20px;
          }

          #detail-view .info-cards{
            flex-direction: column;
          }
        }

    </style>
</head>
<body>
    <div class="navigation">
        <button class="nav-btn active" onclick="showView('overview')">📊 Variantenvergleich</button>
        <button class="nav-btn" onclick="showView('detail')">🏗️ Detail-Architektur (Variante 2)</button>
    </div>

    <div id="overview-view" class="overview-view">
        <div class="variants-container">
            <!-- Variante 1: EC2-basiert -->
            <div class="variant-card">
                <div class="variant-header">
                    <div class="variant-title">Option 1: Budget-Conscious</div>
                    <div class="variant-cost">$489/Monat</div>
                </div>
                <div class="variant-subtitle">EC2-basierte Architektur mit Savings Plans</div>

                <div class="architecture-diagram">
                    <div class="flow-container">
                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">👤</div>
                                <div class="component-name">User</div>
                                <div class="component-type">End User</div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🌐</div>
                                <div class="component-name">CloudFront</div>
                                <div class="component-type">CDN</div>
                                <div class="tooltip">
                                    <h4>Amazon CloudFront</h4>
                                    <ul>
                                        <li>Global CDN für Assets</li>
                                        <li>SSL/TLS Terminierung</li>
                                        <li>DDoS-Schutz (Shield Standard)</li>
                                        <li>250 GB Assets Caching</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">⚖️</div>
                                <div class="component-name">ALB</div>
                                <div class="component-type">Load Balancer</div>
                                <div class="tooltip">
                                    <h4>Application Load Balancer</h4>
                                    <ul>
                                        <li>Layer 7 Load Balancing</li>
                                        <li>Health Checks</li>
                                        <li>SSL Offloading</li>
                                        <li>Multi-AZ: ~$19/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🖥️</div>
                                <div class="component-name">EC2</div>
                                <div class="component-type">3x t3.large + 2x t3.medium</div>
                                <div class="tooltip">
                                    <h4>Amazon EC2</h4>
                                    <ul>
                                        <li>3x t3.large Webserver</li>
                                        <li>2x t3.medium Backend</li>
                                        <li>3-Year Savings Plans</li>
                                        <li>~$51/Monat gesamt</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">💾</div>
                                <div class="component-name">RDS PostgreSQL</div>
                                <div class="component-type">db.t3.large Multi-AZ</div>
                                <div class="tooltip">
                                    <h4>RDS PostgreSQL</h4>
                                    <ul>
                                        <li>500 GB gp2 Storage</li>
                                        <li>Multi-AZ für HA</li>
                                        <li>Automated Backups</li>
                                        <li>~$379/Monat</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="component">
                                <div class="component-icon">⚡</div>
                                <div class="component-name">ElastiCache</div>
                                <div class="component-type">2x t3.micro</div>
                                <div class="tooltip">
                                    <h4>ElastiCache Redis</h4>
                                    <ul>
                                        <li>Session Management</li>
                                        <li>Produkt-Cache (120k SKUs)</li>
                                        <li>2 Nodes Redundanz</li>
                                        <li>~$31/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pros-cons">
                    <div class="pros">
                        <h4>✓ Vorteile</h4>
                        <ul>
                            <li>Niedrigste Kosten</li>
                            <li>Vorhersehbar (Savings Plans)</li>
                            <li>Einfache Architektur</li>
                            <li>Gut für stabilen Traffic</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>✗ Nachteile</h4>
                        <ul>
                            <li>Manuelles Patching</li>
                            <li>Höherer Ops-Aufwand</li>
                            <li>Schlechteres Auto-Scaling</li>
                            <li>Längere Deployments</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Variante 2: Container-optimiert -->
            <div class="variant-card recommended">
                <div class="variant-header">
                    <div class="variant-title">Option 2: Balanced</div>
                    <div class="variant-cost">$656/Monat</div>
                </div>
                <div class="variant-subtitle">Container-optimiert mit Fargate & Aurora Serverless</div>

                <div class="architecture-diagram">
                    <div class="flow-container">
                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">👤</div>
                                <div class="component-name">User</div>
                                <div class="component-type">End User</div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🌐</div>
                                <div class="component-name">CloudFront</div>
                                <div class="component-type">CDN + S3</div>
                                <div class="tooltip">
                                    <h4>CloudFront + S3</h4>
                                    <ul>
                                        <li>S3: 300 GB Static Assets</li>
                                        <li>Next.js Static Export</li>
                                        <li>Global Distribution</li>
                                        <li>~$7/Monat kombiniert</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">⚖️</div>
                                <div class="component-name">ALB</div>
                                <div class="component-type">2x Load Balancer</div>
                                <div class="tooltip">
                                    <h4>Application Load Balancer</h4>
                                    <ul>
                                        <li>Public ALB für API</li>
                                        <li>Internal ALB für Services</li>
                                        <li>Path-based Routing</li>
                                        <li>~$43/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🐳</div>
                                <div class="component-name">ECS Fargate</div>
                                <div class="component-type">Serverless Container</div>
                                <div class="tooltip">
                                    <h4>AWS Fargate</h4>
                                    <ul>
                                        <li>Serverless Container Platform</li>
                                        <li>Auto-Scaling (2-10 Tasks)</li>
                                        <li>2 GB RAM, ARM CPU</li>
                                        <li>Kein Server-Management</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="component">
                                <div class="component-icon">📦</div>
                                <div class="component-name">API Gateway</div>
                                <div class="component-type">REST API</div>
                                <div class="tooltip">
                                    <h4>Amazon API Gateway</h4>
                                    <ul>
                                        <li>Rate Limiting für Partner-API</li>
                                        <li>Request Validation</li>
                                        <li>API Keys & Usage Plans</li>
                                        <li>~$5/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🗄️</div>
                                <div class="component-name">Aurora PostgreSQL</div>
                                <div class="component-type">Serverless v2</div>
                                <div class="tooltip">
                                    <h4>Aurora PostgreSQL Serverless</h4>
                                    <ul>
                                        <li>500 GB Storage</li>
                                        <li>Auto-Scaling Compute</li>
                                        <li>Multi-AZ Replication</li>
                                        <li>~$579/Monat</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="component">
                                <div class="component-icon">⚡</div>
                                <div class="component-name">ElastiCache</div>
                                <div class="component-type">Redis t3.small</div>
                                <div class="tooltip">
                                    <h4>ElastiCache Redis</h4>
                                    <ul>
                                        <li>Session Store</li>
                                        <li>API Response Cache</li>
                                        <li>Product Catalog Cache</li>
                                        <li>~$30/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pros-cons">
                    <div class="pros">
                        <h4>✓ Vorteile</h4>
                        <ul>
                            <li>Minimaler Ops-Aufwand</li>
                            <li>Exzellentes Auto-Scaling</li>
                            <li>Schnelle Deployments</li>
                            <li>Beste Developer Experience</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>✗ Nachteile</h4>
                        <ul>
                            <li>+34% teurer als Option 1</li>
                            <li>Container-Know-how nötig</li>
                            <li>Komplexere Architektur</li>
                        </ul>
                    </div>
                </div>

                <div class="recommendation">
                    <div class="recommendation-badge">⭐ EMPFEHLUNG</div>
                    <p><strong>Beste Wahl:</strong> Optimales Preis-Leistungs-Verhältnis durch minimalen Betriebsaufwand und maximale Skalierbarkeit. Perfekt für euer Team-Setup!</p>
                </div>
            </div>

            <!-- Variante 3: Premium Performance -->
            <div class="variant-card">
                <div class="variant-header">
                    <div class="variant-title">Option 3: Premium</div>
                    <div class="variant-cost">$1.800/Monat</div>
                </div>
                <div class="variant-subtitle">EKS High-Availability für Enterprise-Scale</div>

                <div class="architecture-diagram">
                    <div class="flow-container">
                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">👤</div>
                                <div class="component-name">User</div>
                                <div class="component-type">End User</div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🌐</div>
                                <div class="component-name">CloudFront</div>
                                <div class="component-type">CDN + WAF</div>
                                <div class="tooltip">
                                    <h4>CloudFront + WAF</h4>
                                    <ul>
                                        <li>5 TB Transfer/Monat</li>
                                        <li>WAF für Advanced Security</li>
                                        <li>DDoS Protection</li>
                                        <li>~$450/Monat kombiniert</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">⚖️</div>
                                <div class="component-name">ALB + NLB</div>
                                <div class="component-type">3x Load Balancer</div>
                                <div class="tooltip">
                                    <h4>Multi-Tier Load Balancing</h4>
                                    <ul>
                                        <li>2x ALB (Public + Internal)</li>
                                        <li>1x NLB für TCP Services</li>
                                        <li>Cross-Zone Balancing</li>
                                        <li>~$65/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">☸️</div>
                                <div class="component-name">EKS</div>
                                <div class="component-type">Kubernetes Cluster</div>
                                <div class="tooltip">
                                    <h4>Amazon EKS</h4>
                                    <ul>
                                        <li>Managed Kubernetes</li>
                                        <li>3x m5.large Worker Nodes</li>
                                        <li>Auto-Scaling Groups</li>
                                        <li>~$640/Monat (Cluster + Nodes)</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="component">
                                <div class="component-icon">🔍</div>
                                <div class="component-name">OpenSearch</div>
                                <div class="component-type">Search Engine</div>
                                <div class="tooltip">
                                    <h4>Amazon OpenSearch</h4>
                                    <ul>
                                        <li>1x t3.small.search</li>
                                        <li>Produktsuche & Analytics</li>
                                        <li>Logs & Monitoring</li>
                                        <li>~$50/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="arrow">↓</div>

                        <div class="flow-row">
                            <div class="component">
                                <div class="component-icon">🗄️</div>
                                <div class="component-name">Aurora PostgreSQL</div>
                                <div class="component-type">Writer + Reader</div>
                                <div class="tooltip">
                                    <h4>Aurora HA Cluster</h4>
                                    <ul>
                                        <li>1x db.r6g.large Writer</li>
                                        <li>1x db.r6g.medium Reader</li>
                                        <li>500 GB Storage</li>
                                        <li>~$395/Monat</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="component">
                                <div class="component-icon">⚡</div>
                                <div class="component-name">ElastiCache</div>
                                <div class="component-type">2x t3.medium</div>
                                <div class="tooltip">
                                    <h4>ElastiCache Redis Cluster</h4>
                                    <ul>
                                        <li>Multi-AZ Replication</li>
                                        <li>Automatic Failover</li>
                                        <li>Enhanced Performance</li>
                                        <li>~$60/Monat</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pros-cons">
                    <div class="pros">
                        <h4>✓ Vorteile</h4>
                        <ul>
                            <li>Maximale Skalierbarkeit</li>
                            <li>Enterprise-Grade Security</li>
                            <li>Advanced Monitoring</li>
                            <li>Multi-Region ready</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4>✗ Nachteile</h4>
                        <ul>
                            <li>3,7x teurer als Option 1</li>
                            <li>Kubernetes-Komplexität</li>
                            <li>Benötigt 5-10 FTE DevOps</li>
                            <li>Overkill für 100k Besucher</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="comparison-table">
            <h2>💡 Detaillierte Entscheidungsmatrix</h2>
            <table>
                <thead>
                    <tr>
                        <th>Kriterium</th>
                        <th>Option 1: Budget</th>
                        <th>Option 2: Balanced ⭐</th>
                        <th>Option 3: Premium</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Monatliche Kosten</strong></td>
                        <td class="check-green">✓ $489</td>
                        <td>$656 (+34%)</td>
                        <td class="check-red">$1.800 (+268%)</td>
                    </tr>
                    <tr>
                        <td><strong>Betriebsaufwand (2,5 FTE)</strong></td>
                        <td class="check-red">Hoch (Server-Mgmt)</td>
                        <td class="check-green">✓ Niedrig (Serverless)</td>
                        <td class="check-red">Sehr Hoch (K8s)</td>
                    </tr>
                    <tr>
                        <td><strong>Skalierbarkeit</strong></td>
                        <td>Mittel (ASG)</td>
                        <td class="check-green">✓ Exzellent (Auto)</td>
                        <td class="check-green">✓ Exzellent (K8s)</td>
                    </tr>
                    <tr>
                        <td><strong>Deployment-Speed</strong></td>
                        <td class="check-red">5-10 min</td>
                        <td class="check-green">✓ 2-3 min</td>
                        <td>3-5 min</td>
                    </tr>
                    <tr>
                        <td><strong>SLA-Erreichbarkeit (99,9%)</strong></td>
                        <td class="check-green">✓ Gut</td>
                        <td class="check-green">✓ Sehr Gut</td>
                        <td class="check-green">✓ Exzellent</td>
                    </tr>
                    <tr>
                        <td><strong>Team-Fit (6 FTE Dev)</strong></td>
                        <td>Anspruchsvoll</td>
                        <td class="check-green">✓ Optimal</td>
                        <td class="check-red">Überfordernd</td>
                    </tr>
                    <tr>
                        <td><strong>Time-to-Market</strong></td>
                        <td>4-6 Wochen</td>
                        <td class="check-green">✓ 2-3 Wochen</td>
                        <td class="check-red">8-12 Wochen</td>
                    </tr>
                    <tr>
                        <td><strong>Sicherheit (DSGVO)</strong></td>
                        <td class="check-green">✓ Gut</td>
                        <td class="check-green">✓ Sehr Gut</td>
                        <td class="check-green">✓ Enterprise</td>
                    </tr>
                    <tr>
                        <td><strong>Monitoring</strong></td>
                        <td>CloudWatch Basic</td>
                        <td class="check-green">✓ CloudWatch + X-Ray</td>
                        <td>Full Observability Stack</td>
                    </tr>
                    <tr>
                        <td><strong>Kostenrisiko bei Traffic-Spikes</strong></td>
                        <td class="check-red">Hoch (fixed capacity)</td>
                        <td class="check-green">✓ Niedrig (auto-scale)</td>
                        <td>Niedrig (over-provisioned)</td>
                    </tr>
                    <tr>
                        <td><strong>Entwicklerproduktivität</strong></td>
                        <td>Mittel</td>
                        <td class="check-green">✓ Hoch (Docker lokal)</td>
                        <td>Mittel (K8s Overhead)</td>
                    </tr>
                    <tr>
                        <td><strong>Disaster Recovery</strong></td>
                        <td>Manuell (RDS Snapshots)</td>
                        <td class="check-green">✓ Automatisch</td>
                        <td class="check-green">✓ Advanced (Multi-AZ)</td>
                    </tr>
                    <tr>
                        <td><strong>Empfehlung für EcoKart</strong></td>
                        <td>Wenn Budget kritisch</td>
                        <td class="check-green">✓✓✓ BESTE WAHL</td>
                        <td>Nur bei >500k Besuchern</td>
                    </tr>
                    <tr style="background: rgba(127, 176, 105, 0.1);">
                        <td><strong>💰 Kosten pro Order</strong></td>
                        <td>€0,024</td>
                        <td class="check-green">✓ €0,033</td>
                        <td>€0,090</td>
                    </tr>
                    <tr style="background: rgba(127, 176, 105, 0.1);">
                        <td><strong>💼 % vom Umsatz</strong></td>
                        <td class="check-green">✓ 0,08%</td>
                        <td class="check-green">✓ 0,10%</td>
                        <td class="check-red">0,30%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div style="background: rgba(127, 176, 105, 0.1); padding: 30px; border-radius: 15px; margin-top: 40px; border: 2px solid #7FB069;">
            <h2 style="color: #7FB069; margin-bottom: 20px; text-align: center;">🎯 Finale Empfehlung: Option 2 (Balanced)</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px;">
                    <h3 style="color: #FF9900; margin-bottom: 10px;">💰 ROI-Analyse</h3>
                    <p style="line-height: 1.6;">Die +$167/Monat Mehrkosten sparen <strong>~1 FTE DevOps</strong> (€60k/Jahr). Break-even nach <strong>3 Monaten</strong>!</p>
                </div>
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px;">
                    <h3 style="color: #FF9900; margin-bottom: 10px;">⚡ Skalierung</h3>
                    <p style="line-height: 1.6;">Automatisches Scaling von 2-10 Tasks bewältigt problemlos die <strong>20 Orders/min Peak</strong> bei Aktionen.</p>
                </div>
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px;">
                    <h3 style="color: #FF9900; margin-bottom: 10px;">🔒 DSGVO-Konform</h3>
                    <p style="line-height: 1.6;"><strong>eu-north-1</strong> primär, Aurora Multi-AZ, verschlüsselt at rest & in transit, 7-Jahre Backup möglich.</p>
                </div>
            </div>
        </div>

        <div style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 15px; margin-top: 40px;">
            <h2 style="color: #7FB069; margin-bottom: 25px; text-align: center;">💼 Business Case: Warum Option 2 wirtschaftlich sinnvoll ist</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
                <div style="background: linear-gradient(135deg, rgba(127, 176, 105, 0.1) 0%, rgba(127, 176, 105, 0.05) 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #7FB069;">
                    <h3 style="color: #7FB069; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5em;">💰</span> Kosten-Nutzen-Rechnung
                    </h3>
                    <div style="line-height: 1.8; color: #ddd;">
                        <p><strong>Umsatzpotential:</strong><br>20.000 Orders × €30 durchschnitt = <span style="color: #7FB069; font-weight: bold;">€600.000/Monat</span></p>
                        <p style="margin-top: 10px;"><strong>Infrastruktur-Kosten:</strong><br>€615/Monat = <span style="color: #7FB069; font-weight: bold;">0,1% vom Umsatz</span></p>
                        <p style="margin-top: 10px;"><strong>Pro Transaktion:</strong><br><span style="color: #7FB069; font-weight: bold; font-size: 1.2em;">€0,03</span> pro Bestellung<br><span style="font-size: 0.9em; color: #aaa;">(exzellente Unit Economics!)</span></p>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, rgba(255, 153, 0, 0.1) 0%, rgba(255, 153, 0, 0.05) 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #FF9900;">
                    <h3 style="color: #FF9900; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5em;">✅</span> Compliance & Sicherheit
                    </h3>
                    <ul style="line-height: 1.8; list-style: none; padding: 0; color: #ddd;">
                        <li style="margin-bottom: 8px;">✓ <strong>DSGVO-konform:</strong> EU-Datenresidenz (eu-north-1)</li>
                        <li style="margin-bottom: 8px;">✓ <strong>WAF:</strong> Erforderliche Sicherheitsstandards</li>
                        <li style="margin-bottom: 8px;">✓ <strong>Retention:</strong> 7-Jahre Aufbewahrung implementiert</li>
                        <li style="margin-bottom: 8px;">✓ <strong>SLA:</strong> 99,9% erreichbar mit Multi-AZ</li>
                    </ul>
                </div>

                <div style="background: linear-gradient(135deg, rgba(100, 149, 237, 0.1) 0%, rgba(100, 149, 237, 0.05) 100%); padding: 25px; border-radius: 12px; border-left: 4px solid #6495ED;">
                    <h3 style="color: #6495ED; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5em;">👥</span> Team-Fit & Skalierbarkeit
                    </h3>
                    <ul style="line-height: 1.8; list-style: none; padding: 0; color: #ddd;">
                        <li style="margin-bottom: 8px;">✓ <strong>Managebar:</strong> Serverless = kein Server-Management</li>
                        <li style="margin-bottom: 8px;">✓ <strong>Team-Size:</strong> Perfekt für 2,5 FTE DevOps</li>
                        <li style="margin-bottom: 8px;">✓ <strong>Auto-Scaling:</strong> Peaks bis 20 Orders/min abgedeckt</li>
                        <li style="margin-bottom: 8px;">✓ <strong>Migration-Path:</strong> Einfacher Wechsel zu EKS möglich</li>
                    </ul>
                </div>
            </div>

            <div style="background: rgba(127, 176, 105, 0.15); padding: 20px; border-radius: 10px; margin-top: 25px; border: 2px dashed #7FB069; text-align: center;">
                <p style="font-size: 1.1em; line-height: 1.8;">
                    <strong style="color: #7FB069;">Bottom Line:</strong> Mit nur <strong>0,1% des Umsatzes</strong> für Infrastruktur bei gleichzeitiger <strong>Reduzierung des Ops-Aufwands um 40%</strong> ist Option 2 die wirtschaftlich und technisch beste Wahl für EcoKart.
                </p>
            </div>
        </div>
    </div>

    <div id="detail-view" class="detail-view">
        <!-- Detail-Architektur visualisiert wie in der Referenzkopie -->
            <div class="container">
              <div class="header">
                <h1>🚀 EcoKart AWS Architektur - Option 2: Container-Optimiert</h1>
                <p>
                  Serverless Container-Architektur mit Fargate & Aurora - Optimaler Mix
                  aus Flexibilität und Kosteneffizienz
                </p>
              </div>
        
              <div class="architecture-wrapper">
                <!-- External Services -->
                <div class="external-services">
                  <div class="external-service">
                    <span class="icon">🌐</span>
                    <span class="name">CloudFront CDN</span>
                    <div class="tooltip">
                      <h4>Amazon CloudFront</h4>
                      <ul>
                        <li>Global Content Delivery Network</li>
                        <li>300 GB Static Assets aus S3</li>
                        <li>SSL/TLS Terminierung</li>
                        <li>DDoS Protection (Shield Standard)</li>
                        <li>Caching für bessere Performance</li>
                        <li>~$5/Monat für Traffic</li>
                      </ul>
                    </div>
                  </div>
        
                  <div class="external-service">
                    <span class="icon">🛡️</span>
                    <span class="name">AWS WAF</span>
                    <div class="tooltip">
                      <h4>Web Application Firewall</h4>
                      <ul>
                        <li>SQL Injection Protection</li>
                        <li>XSS Attack Prevention</li>
                        <li>Rate Limiting Rules</li>
                        <li>Geo-Blocking (non-EU optional)</li>
                        <li>Custom Rules für Bot Protection</li>
                        <li>~$8/Monat + $0.60/Million requests</li>
                      </ul>
                    </div>
                  </div>
        
                  <div class="external-service">
                    <span class="icon">📊</span>
                    <span class="name">CloudWatch</span>
                    <div class="tooltip">
                      <h4>Monitoring & Logging</h4>
                      <ul>
                        <li>Container Logs & Metrics</li>
                        <li>Application Performance Monitoring</li>
                        <li>Custom Dashboards</li>
                        <li>Alarms für SLA-Monitoring (99.9%)</li>
                        <li>X-Ray Tracing Integration</li>
                        <li>Log Insights für Analyse</li>
                      </ul>
                    </div>
                  </div>
                </div>
        
                <!-- VPC Container -->
                <div class="vpc-container">
                  <div class="vpc-label">VPC: 10.0.0.0/16</div>
                  <div class="region-label">
                    <span>📍</span>
                    <span>eu-north-1 (Stockholm)</span>
                  </div>
        
                  <div class="az-container">
                    <!-- Availability Zone 1 -->
                    <div class="availability-zone">
                      <div class="az-label">Availability Zone: eu-north-1a</div>
        
                      <div class="subnet-row">
                        <!-- Public Subnet 1 -->
                        <div class="subnet public">
                          <div class="subnet-label">Public Subnet: 10.0.1.0/24</div>
        
                          <div class="component">
                            <div class="component-icon">⚖️</div>
                            <div class="component-name">ALB (Public)</div>
                            <div class="component-details">Load Balancer</div>
                            <div class="tooltip">
                              <h4>Application Load Balancer</h4>
                              <ul>
                                <li><strong>Security Group:</strong> sg-alb-public</li>
                                <li>Inbound: Port 443 (HTTPS) from 0.0.0.0/0</li>
                                <li>Inbound: Port 80 → 443 redirect</li>
                                <li>Outbound: Port 3000 to ECS Tasks</li>
                                <li>Health Checks: /health endpoint</li>
                                <li>Target Group: ECS Fargate Tasks</li>
                                <li>Cross-Zone Load Balancing enabled</li>
                                <li>Sticky Sessions für User Experience</li>
                                <li>~$22/Monat + Traffic costs</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">🔗</div>
                            <div class="component-name">NAT Gateway</div>
                            <div class="component-details">Internet Access</div>
                            <div class="tooltip">
                              <h4>NAT Gateway</h4>
                              <ul>
                                <li>Elastic IP attached</li>
                                <li>Outbound Internet für private subnets</li>
                                <li>99.9% SLA garantiert</li>
                                <li>Bandwidth: Up to 45 Gbps</li>
                                <li>~$50/Monat + Data Transfer</li>
                              </ul>
                            </div>
                          </div>
                        </div>
        
                        <!-- Private Subnet 1 -->
                        <div class="subnet private">
                          <div class="subnet-label">Private Subnet: 10.0.10.0/24</div>
        
                          <div class="component">
                            <div class="component-icon">🐳</div>
                            <div class="component-name">ECS Fargate</div>
                            <div class="component-details">Frontend (2-5)</div>
                            <div class="tooltip">
                              <h4>Frontend Container Tasks</h4>
                              <ul>
                                <li><strong>Task Role:</strong> ecs-task-frontend</li>
                                <li>
                                  <strong>Security Group:</strong> sg-ecs-frontend
                                </li>
                                <li>Next.js SSR Application</li>
                                <li>2 vCPU / 4 GB RAM per Task</li>
                                <li>Auto-scaling: 2 min - 5 max tasks</li>
                                <li>Port 3000 exposed to ALB only</li>
                                <li>Environment vars from Secrets Manager</li>
                                <li>Health endpoint: /health</li>
                                <li>Graceful shutdown: 30s</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">📦</div>
                            <div class="component-name">API Gateway</div>
                            <div class="component-details">Partner API</div>
                            <div class="tooltip">
                              <h4>Amazon API Gateway</h4>
                              <ul>
                                <li>REST API für externe Partner</li>
                                <li>Rate Limiting: 1000 req/min per API key</li>
                                <li>API Key Authentication required</li>
                                <li>Request/Response Validation</li>
                                <li>Usage Plans & Quotas configured</li>
                                <li>Throttling: 2000 req/s burst</li>
                                <li>CloudWatch Logs integration</li>
                                <li>~$5/Monat + $3.50 per million requests</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">⚡</div>
                            <div class="component-name">ElastiCache</div>
                            <div class="component-details">Redis Cache</div>
                            <div class="tooltip">
                              <h4>ElastiCache Redis</h4>
                              <ul>
                                <li><strong>Security Group:</strong> sg-redis</li>
                                <li>Instance: t3.small (2 GB RAM)</li>
                                <li>Session Store (TTL: 24 hours)</li>
                                <li>Product Catalog Cache (120k SKUs)</li>
                                <li>API Response Cache (TTL: 5 min)</li>
                                <li>Port 6379 - only from ECS tasks</li>
                                <li>Automatic failover enabled</li>
                                <li>Daily backups retained 7 days</li>
                                <li>~$30/Monat</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
        
                    <!-- Availability Zone 2 -->
                    <div class="availability-zone">
                      <div class="az-label">Availability Zone: eu-north-1b</div>
        
                      <div class="subnet-row">
                        <!-- Public Subnet 2 -->
                        <div class="subnet public">
                          <div class="subnet-label">Public Subnet: 10.0.2.0/24</div>
        
                          <div class="component">
                            <div class="component-icon">⚖️</div>
                            <div class="component-name">ALB (Standby)</div>
                            <div class="component-details">Multi-AZ</div>
                            <div class="tooltip">
                              <h4>ALB Multi-AZ Node</h4>
                              <ul>
                                <li>Automatic failover in < 30s</li>
                                <li>Health check based routing</li>
                                <li>Session stickiness maintained</li>
                                <li>Same security group as primary</li>
                                <li>No additional cost (included)</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">🔗</div>
                            <div class="component-name">NAT Gateway</div>
                            <div class="component-details">HA Backup</div>
                            <div class="tooltip">
                              <h4>NAT Gateway (Backup)</h4>
                              <ul>
                                <li>High Availability Setup</li>
                                <li>Automatic failover support</li>
                                <li>Separate Elastic IP</li>
                                <li>Same bandwidth as primary</li>
                                <li>~$50/Monat</li>
                              </ul>
                            </div>
                          </div>
                        </div>
        
                        <!-- Private Subnet 2 -->
                        <div class="subnet private">
                          <div class="subnet-label">Private Subnet: 10.0.20.0/24</div>
        
                          <div class="component">
                            <div class="component-icon">🐳</div>
                            <div class="component-name">ECS Fargate</div>
                            <div class="component-details">Backend (2-10)</div>
                            <div class="tooltip">
                              <h4>Backend Container Tasks</h4>
                              <ul>
                                <li><strong>Task Role:</strong> ecs-task-backend</li>
                                <li><strong>Security Group:</strong> sg-ecs-backend</li>
                                <li>Node.js Express API Server</li>
                                <li>1 vCPU / 2 GB RAM per Task</li>
                                <li>Auto-scaling: 2 min - 10 max tasks</li>
                                <li>Port 8080 - internal only</li>
                                <li>Connection pool: 20 DB connections</li>
                                <li>Request timeout: 30 seconds</li>
                                <li>Circuit breaker pattern implemented</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">🗄️</div>
                            <div class="component-name">Aurora PostgreSQL</div>
                            <div class="component-details">Serverless v2</div>
                            <div class="tooltip">
                              <h4>Aurora PostgreSQL Serverless</h4>
                              <ul>
                                <li><strong>Security Group:</strong> sg-aurora</li>
                                <li>Scaling: 0.5 - 1 ACU (auto)</li>
                                <li>Storage: 500 GB (auto-expanding)</li>
                                <li>Multi-AZ with auto-failover</li>
                                <li>Point-in-time recovery: 35 days</li>
                                <li>Encryption at rest (AWS KMS)</li>
                                <li>Port 5432 - only from ECS tasks</li>
                                <li>Read replica for analytics</li>
                                <li>Performance Insights enabled</li>
                                <li>~$579/Monat</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">🔐</div>
                            <div class="component-name">Secrets Manager</div>
                            <div class="component-details">Credentials</div>
                            <div class="tooltip">
                              <h4>AWS Secrets Manager</h4>
                              <ul>
                                <li>Database master password</li>
                                <li>API keys for external services</li>
                                <li>Automatic rotation every 30 days</li>
                                <li>Version history maintained</li>
                                <li>KMS encryption (customer managed)</li>
                                <li>Fine-grained IAM policies</li>
                                <li>Audit via CloudTrail</li>
                                <li>~$0.40 per secret/month</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
        
                    <!-- Data & Services Subnet -->
                    <div class="subnet-row">
                      <div class="subnet data" style="width: 100%">
                        <div class="subnet-label">
                          Data & Services Subnet: 10.0.30.0/24
                        </div>
        
                        <div
                          style="
                            display: flex;
                            gap: 15px;
                            flex-wrap: wrap;
                            justify-content: space-around;
                          "
                        >
                          <div class="component">
                            <div class="component-icon">📦</div>
                            <div class="component-name">S3 Buckets</div>
                            <div class="component-details">Storage</div>
                            <div class="tooltip">
                              <h4>Amazon S3 Storage</h4>
                              <ul>
                                <li><strong>ecokart-assets:</strong> 250 GB images</li>
                                <li><strong>ecokart-backups:</strong> DB backups</li>
                                <li><strong>ecokart-logs:</strong> App logs</li>
                                <li>Versioning & MFA delete enabled</li>
                                <li>Lifecycle: IA after 30 days</li>
                                <li>Glacier after 90 days (backups)</li>
                                <li>Cross-region replication available</li>
                                <li>~$8/Monat total</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">🏗️</div>
                            <div class="component-name">ECR</div>
                            <div class="component-details">Registry</div>
                            <div class="tooltip">
                              <h4>Elastic Container Registry</h4>
                              <ul>
                                <li>Docker image repository</li>
                                <li>Vulnerability scanning on push</li>
                                <li>Image lifecycle: keep last 10</li>
                                <li>Cross-region replication</li>
                                <li>Image signing supported</li>
                                <li>~$2/Monat for storage</li>
                              </ul>
                            </div>
                          </div>
        
                          <div class="component">
                            <div class="component-icon">🚀</div>
                            <div class="component-name">CodePipeline</div>
                            <div class="component-details">CI/CD</div>
                            <div class="tooltip">
                              <h4>AWS CodePipeline</h4>
                              <ul>
                                <li>GitHub webhook trigger</li>
                                <li>CodeBuild for unit tests</li>
                                <li>Docker build & push to ECR</li>
                                <li>Blue/Green deployment to ECS</li>
                                <li>Automatic rollback on failure</li>
                                <li>Slack notifications</li>
                                <li>Deployment time: 2-3 minutes</li>
                                <li>~$1/Pipeline/Monat</li>
                              </ul>
                            </div>
                          </div>
                          <div class="component">
                            <div class="component-icon">🔍</div>
                            <div class="component-name">X-Ray</div>
                            <div class="component-details">Tracing</div>
                            <div class="tooltip">
                              <h4>AWS X-Ray</h4>
                              <ul>
                                <li>Distributed tracing</li>
                                <li>Performance bottleneck detection</li>
                                <li>Service map visualization</li>
                                <li>Error rate analysis</li>
                                <li>Latency histograms</li>
                                <li>Integration with CloudWatch</li>
                                <li>~$5/Monat for traces</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                    </div>
                 </div>
            </div>
        </div>
                          <!-- Info Cards -->
                          <div class="info-cards">
                            <div class="info-card">
                              <h3>🔒 Security Groups</h3>
                              <div class="metric">
                                <span>sg-alb-public</span>
                                <span class="metric-value">443/80 → Internet</span>
                              </div>
                              <div class="metric">
                                <span>sg-ecs-frontend</span>
                                <span class="metric-value">3000 ← ALB</span>
                              </div>
                              <div class="metric">
                                <span>sg-ecs-backend</span>
                                <span class="metric-value">8080 ← Internal</span>
                              </div>
                              <div class="metric">
                                <span>sg-aurora</span>
                                <span class="metric-value">5432 ← ECS</span>
                              </div>
                              <div class="metric">
                                <span>sg-redis</span>
                                <span class="metric-value">6379 ← ECS</span>
                              </div>
                            </div>
        
                            <div class="info-card">
                              <h3>📊 Key Metrics</h3>
                              <div class="metric">
                                <span>Verfügbarkeit</span>
                                <span class="metric-value">99.9% SLA</span>
                              </div>
                              <div class="metric">
                                <span>Auto-Scaling</span>
                                <span class="metric-value">2-10 Tasks</span>
                              </div>
                              <div class="metric">
                                <span>Response Time</span>
                                <span class="metric-value">&lt; 200ms p95</span>
                              </div>
                              <div class="metric">
                                <span>Concurrent Users</span>
                                <span class="metric-value">2000 Peak</span>
                              </div>
                              <div class="metric">
                                <span>Orders/min Peak</span>
                                <span class="metric-value">20</span>
                              </div>
                            </div>
        
                            <div class="info-card">
                              <h3>💰 Kostenübersicht</h3>
                              <div class="metric">
                                <span>ECS Fargate</span>
                                <span class="metric-value">$22/Monat</span>
                              </div>
                              <div class="metric">
                                <span>Aurora Serverless</span>
                                <span class="metric-value">$579/Monat</span>
                              </div>
                              <div class="metric">
                                <span>ALB + NAT</span>
                                <span class="metric-value">$90/Monat</span>
                              </div>
                              <div class="metric">
                                <span>ElastiCache</span>
                                <span class="metric-value">$30/Monat</span>
                              </div>
                              <div
                                class="metric"
                                style="
                                  border-top: 2px solid #7fb069;
                                  margin-top: 10px;
                                  padding-top: 10px;
                                "
                              >
                                <span><strong>Total</strong></span>
                                <span class="metric-value"
                                  ><strong>~$656/Monat</strong></span
                                >
                              </div>
                            </div>
        
                            <div class="info-card">
                              <h3>🚀 Deployment Flow</h3>
                              <div class="metric">
                                <span>1. Code Push</span>
                                <span class="metric-value">→ GitHub</span>
                              </div>
                              <div class="metric">
                                <span>2. Pipeline Trigger</span>
                                <span class="metric-value">→ CodePipeline</span>
                              </div>
                              <div class="metric">
                                <span>3. Build & Test</span>
                                <span class="metric-value">→ CodeBuild</span>
                              </div>
                              <div class="metric">
                                <span>4. Image Push</span>
                                <span class="metric-value">→ ECR</span>
                              </div>
                              <div class="metric">
                                <span>5. Blue/Green Deploy</span>
                                <span class="metric-value">→ ECS</span>
                              </div>
                              <div class="metric">
                                <span>6. Health Check</span>
                                <span class="metric-value">→ ALB</span>
                              </div>
                              <div class="metric">
                                <span>7. Traffic Switch</span>
                                <span class="metric-value">→ Done ✓</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                </div>
              </div>
            </div>
    </div>

    <script>
        function showView(view) {
            const overviewView = document.getElementById('overview-view');
            const detailView = document.getElementById('detail-view');
            const buttons = document.querySelectorAll('.nav-btn');

            buttons.forEach(btn => btn.classList.remove('active'));

            if (view === 'overview') {
                overviewView.style.display = 'block';
                detailView.style.display = 'none';
                buttons[0].classList.add('active');
            } else {
                overviewView.style.display = 'none';
                detailView.style.display = 'block';
                buttons[1].classList.add('active');
            }
        }
    </script>
</body>
</html>
